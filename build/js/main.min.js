$(function(){var t;768<$(window).width()&&(t=0,$(window).scroll(function(){var e=$(this).scrollTop();t<e?$(".menu").addClass("hide"):$(".menu").removeClass("hide"),t=e})),$(".menu__btn").click(function(e){e.preventDefault(),$(".full-menu").toggleClass("full-menu--open")}),$(document).click(function(e){$(".menu__btn").is(e.target)||$(".full-menu").is(e.target)||0!==$(".full-menu").has(e.target).length||$(".full-menu").removeClass("full-menu--open")}),$(window).keydown(function(e){27===e.keyCode&&(e.preventDefault(),$(".full-menu").removeClass("full-menu--open"))}),$(window).width()<=768&&($(".menu__btn").click(function(e){$("body").toggleClass("overflow-h")}),$(".full-menu__cat").click(function(e){e.preventDefault(),$(this).hasClass("active")?($(this).removeClass("active"),$(".full-menu__list").find(".full-menu__cat").show(),$(".full-menu__sublist").find(".full-menu__link").show(),$(".full-menu .site-nav").show()):($(".full-menu__list").find(".full-menu__cat").not(this).hide(),$(".full-menu .site-nav").hide(),$(".full-menu__list").find(".active").removeClass("active"),$(this).addClass("active"))}),$(".full-menu__link").click(function(e){$(this).next().is("ul")&&(e.preventDefault(),$(this).hasClass("active")?($(this).removeClass("active"),$(".full-menu__link").show()):($(".full-menu__link").not(this).hide(),$(".full-menu__sublist").find(".active").removeClass("active"),$(this).addClass("active")))})),$(".site-nav__btn").click(function(e){e.preventDefault(),$(".site-nav").toggleClass("site-nav--open")});$("#search").autocomplete({source:["Смартфон Apple iPhone 7 32GB (3 товара)","Смартфон Apple iPhone 7 128GB (2 товара)","Смартфон Apple iPhone 7 Plus 32GB (золотой)","Смартфон Apple iPhone 8 Plus 64GB (серебряный)","Смартфон Apple iPhone 8 Plus 128GB (3 товара)","Смартфон Apple iPhone 8 128GB (3 товара)"],autoFocus:!0}),$(".header__tel").mouseover(function(e){e.preventDefault(),$(".popup--about-tel").addClass("popup--open")}),$(document).mouseover(function(e){$(".header__tel").is(e.target)||0!==$(".header__tel").has(e.target).length||$(".popup--about-tel").is(e.target)||0!==$(".popup--about-tel").has(e.target).length||$(".popup--about-tel").removeClass("popup--open")}),$(".main__benefit").mouseover(function(e){e.preventDefault(),$(this).find(".popup").addClass("popup--open")}),$(document).mouseover(function(e){$(".main__benefit").is(e.target)||0!==$(".main__benefit").has(e.target).length||$(".popup--benefit").removeClass("popup--open")}),$(".button--remind").click(function(e){e.preventDefault(),$(".popup--remind").removeClass("popup--open"),$(this).next(".popup--remind").addClass("popup--open")}),$(".product-bonus").click(function(e){e.preventDefault(),$(".popup--bonus").removeClass("popup--open"),$(this).next(".popup--bonus").addClass("popup--open")}),$(".product-card-credit").click(function(e){e.preventDefault(),$(".popup--credit").toggleClass("popup--open")}),$(".product-card-pickups").click(function(e){e.preventDefault(),$(".modal--pickup").toggleClass("modal--open")}),$(".available").click(function(e){e.preventDefault(),$(this).next(".modal--pickup").addClass("modal--open")}),$(".label-gift").click(function(e){e.preventDefault(),$(".popup--gift").toggleClass("popup--open")}),$(".label-delivery-free").click(function(e){e.preventDefault(),$(".popup--delivery-free").toggleClass("popup--open")}),$(".button--one-click").click(function(e){e.preventDefault(),$(".popup--one-click").toggleClass("popup--open")}),$(".popup__close").click(function(e){e.preventDefault(),$("body").removeClass("overflow-h"),$(this).parents(".modal").removeClass("modal--open"),$(this).parents(".popup").removeClass("popup--open")}),$(".main__card-gallery").slick({autoplay:!0,slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!1,lazyLoad:"progressive"}),$(".about-shop__brands").slick({slidesToShow:6,slidesToScroll:3,dots:!0,lazyLoad:"progressive",responsive:[{breakpoint:1200,settings:{arrows:!1,slidesToShow:3,slidesToScroll:3}}]}),$(".filter__title").click(function(e){e.preventDefault(),$(this).parent().toggleClass("active")}),$(".filter__clear").click(function(e){e.preventDefault(),$(this).parent(".filter").find("input").prop("checked",!1).val("")}),$(".filters__clear").click(function(e){e.preventDefault(),$(this).parent(".filters").find("input").prop("checked",!1).val("")}),$(".filter__show-more").click(function(e){e.preventDefault(),$(this).find(".show-more").toggle(),$(this).parent().find(".hidden").toggleClass("show")}),$(window).width()<=768&&($(".filters").addClass("popup"),$(".filters-btn").click(function(e){e.preventDefault(),$("body").addClass("overflow-h"),$(".filters").addClass("popup--open")})),$(".product-big-photo").slick({asNavFor:".product-small-photos",dots:!1,responsive:[{breakpoint:480,dots:!0}]}),$(".product-small-photos").slick({slidesToShow:3,slidesToScroll:1,centerMode:!0,centerPadding:0,focusOnSelect:!0,asNavFor:".product-big-photo",responsive:[{breakpoint:480,settings:"unslick"}]}),$(".product-tab-btn").click(function(e){e.preventDefault(),$(this).parent().find(".active").removeClass("active"),$(this).addClass("active")}),768<$(window).width()&&$(".product-tab-btn:first-child").addClass("active"),$(window).width()<=768&&($(".product-tab").addClass("popup"),$(".product-tab-btn").click(function(e){$("body").addClass("overflow-h")}),$(".product-tab .popup__close").click(function(e){$(".product-tab-btn").removeClass("active")})),768<$(window).width()&&($(".popup__buttons").slick({slidesToShow:5,vertical:!0,variableWidth:!0,focusOnSelect:!0,asNavFor:".popup__info-list"}),$(".popup__info-list").slick({arrows:!1,slidesToShow:1,variableWidth:!0,focusOnSelect:!0,asNavFor:".popup__buttons"}),$(".pickup__buttons").slick({slidesToShow:5,vertical:!0,variableWidth:!0,focusOnSelect:!0,asNavFor:".pickup__info-list"}),$(".pickup__info-list").slick({arrows:!1,slidesToShow:1,focusOnSelect:!0,asNavFor:".pickup__buttons"})),$(window).width()<=768&&($(".pickup__info-item").addClass("popup"),$(".pickup__buttons .button").click(function(e){e.preventDefault(),$("body").addClass("overflow-h");var t=$(this).attr("id");$("."+t).addClass("popup--open")})),$(".cart-spinner").spinner({min:1,max:10}),$(".cart-remove").click(function(e){e.preventDefault(),$(this).parents(".bk_product").remove()}),$(".catalog-fav-clear").click(function(e){e.preventDefault(),$(".catalog-fav .product-item").remove(),$(".pagination").remove(),$(".button--more").remove()}),$(".input").on("input",function(){$(this).val()?$(this).removeClass("input-empty"):$(this).addClass("input-empty")}),$(".select-city").click(function(e){e.preventDefault(),$("body").addClass("overflow-h"),$(".popup--delivery-city").toggleClass("popup--open")}),$(".search-help a, .delivery-city").click(function(e){e.preventDefault();var t=$(this).text();$(".select-city, .search-city").val(t).removeClass("input-empty"),$("body").removeClass("overflow-h"),$(".tabs-cdek").removeClass("d-none"),$(".popup--delivery-city").removeClass("popup--open")}),$(".tabs-cdek input[name='delivery-type']").on("change",function(){$("[value='courier']").is(":checked")&&($(".field-pickup").addClass("d-none"),$(".fields-address").removeClass("d-none")),$("[value='pickup']").is(":checked")&&($(".fields-address").addClass("d-none"),$(".field-pickup").removeClass("d-none"))}),$(".select-pickup").click(function(e){e.preventDefault(),$("body").addClass("overflow-h"),$(".popup--delivery-pickup").toggleClass("popup--open")}),$(".pickup__button").click(function(){var e=$(this).find(".pickup__button-address").text();$(".select-pickup").removeClass("input-empty").val(e),$(".select-pickup-address").removeClass("d-none").empty(),$(this).clone().appendTo(".select-pickup-address"),$(".order-total").removeClass("d-none"),$(".buton-confirm").removeAttr("disabled"),$("body").removeClass("overflow-h"),$(".popup--delivery-pickup").removeClass("popup--open")}),$(window).width()<=768&&$(".pickup__button").click(function(){$(".button.select-pickup").removeClass("d-none"),$(".field-pickup .order-field").addClass("d-none")}),$(".tabs-view input[name='view-type']").on("change",function(){$("[value='list']").is(":checked")&&($(".pickup__info").addClass("d-none"),$(".pickup__list").removeClass("d-none")),$("[value='map']").is(":checked")&&($(".pickup__list").addClass("d-none"),$(".pickup__info").removeClass("d-none"))}),$(".order__btn-cart").click(function(e){e.preventDefault(),$(this).toggleClass("open"),$(".popup--cart").toggleClass("popup--open")})});